{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\n\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n  );\n}\n"],"names":[],"mappings":";;;;AAII;AAJJ;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,+UAAmB;AAI5B"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,qQAAO,EAAC,IAAA,+NAAI,EAAC;AACtB"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,mRAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,6UAAI,GAAG;IAE9B,qBACE,0VAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,0VAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,0VAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,0VAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,0VAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,0VAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,0VAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,0VAAC;QACC,aAAU;QACV,WAAW,IAAA,mJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,0VAAC,uTAAmB;QAClB,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 258, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,0VAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,mJAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/app/shop/%5Bslug%5D/product/%5BproductId%5D/checkout/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport Image from \"next/image\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { initPixel, track } from \"@/lib/fbpixel\";\r\n\r\ninterface Product {\r\n  id: string;\r\n  name: string;\r\n  description: string;\r\n  price: number;\r\n  compare_at_price: number | null;\r\n  quantity: number;\r\n  image_url: string | null;\r\n}\r\n\r\nexport default function CheckoutPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const shopSlug = params.slug as string;\r\n  const productId = params.productId as string;\r\n\r\n  const supabase = createClient();\r\n\r\n  const [product, setProduct] = useState<Product | null>(null);\r\n  const [shopId, setShopId] = useState<string | null>(null);\r\n  const [pixelId, setPixelId] = useState<string | null>(null);\r\n\r\n  const [customerName, setCustomerName] = useState(\"\");\r\n  const [customerPhone, setCustomerPhone] = useState(\"\");\r\n  const [customerCity, setCustomerCity] = useState(\"\");\r\n  const [customerAddress, setCustomerAddress] = useState(\"\");\r\n  const [customerNotes, setCustomerNotes] = useState(\"\");\r\n  const [quantity, setQuantity] = useState(1);\r\n\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState<string | null>(null);\r\n  const [successMsg, setSuccessMsg] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!shopSlug || !productId) return;\r\n\r\n    const load = async () => {\r\n      try {\r\n        // 1) boutique\r\n        const { data: shop, error: shopError } = await supabase\r\n          .from(\"shops\")\r\n          .select(\"id, facebook_pixel_id\")\r\n          .eq(\"slug\", shopSlug)\r\n          .single();\r\n\r\n        if (shopError || !shop) {\r\n          console.error(\"Shop error:\", shopError);\r\n          setErrorMsg(\"Boutique introuvable\");\r\n          return;\r\n        }\r\n        setShopId(shop.id);\r\n        setPixelId(shop.facebook_pixel_id || null);\r\n        \r\n        // Initialiser le pixel si disponible\r\n        if (shop.facebook_pixel_id) {\r\n          initPixel(shop.facebook_pixel_id);\r\n        }\r\n\r\n        // 2) produit\r\n        const { data: prod, error: prodError } = await supabase\r\n          .from(\"products\")\r\n          .select(\r\n            \"id, name, description, price, compare_at_price, quantity, image_url\"\r\n          )\r\n          .eq(\"shop_id\", shop.id)\r\n          .eq(\"id\", productId)\r\n          .single();\r\n\r\n        if (prodError || !prod) {\r\n          console.error(\"Product error:\", prodError);\r\n          setErrorMsg(\"Produit introuvable\");\r\n          return;\r\n        }\r\n\r\n        setProduct(prod as Product);\r\n      } catch (err) {\r\n        console.error(\"Checkout load error:\", err);\r\n        setErrorMsg(\"Erreur lors du chargement du produit\");\r\n      }\r\n    };\r\n\r\n    load();\r\n  }, [shopSlug, productId, supabase]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setErrorMsg(null);\r\n    setSuccessMsg(null);\r\n\r\n    if (!product || !shopId) {\r\n      setErrorMsg(\"Produit ou boutique introuvable\");\r\n      return;\r\n    }\r\n\r\n    if (!customerName || !customerPhone || !customerAddress) {\r\n      setErrorMsg(\"Veuillez remplir au moins nom, téléphone et adresse.\");\r\n      return;\r\n    }\r\n\r\n    const qty = Math.max(1, quantity);\r\n    const total = qty * product.price;\r\n\r\n    setIsSubmitting(true);\r\n\r\n    try {\r\n      // 1) créer la commande\r\n      const { data: insertedOrder, error: orderError } = await supabase\r\n        .from(\"orders\")\r\n        .insert({\r\n          shop_id: shopId,\r\n          customer_name: customerName,\r\n          customer_phone: customerPhone,\r\n          customer_city: customerCity || null,\r\n          customer_address: customerAddress,\r\n          customer_notes: customerNotes || null,\r\n          status: \"pending\",\r\n          total_amount: total,\r\n        })\r\n        .select(\"id\")\r\n        .single();\r\n\r\n      console.log(\"order insert result:\", insertedOrder, orderError);\r\n\r\n      if (orderError || !insertedOrder) {\r\n        console.error(\"Order insert error:\", orderError);\r\n        setErrorMsg(\r\n          \"Erreur lors de la création de la commande : \" +\r\n            (orderError?.message || \"voir console\")\r\n        );\r\n        setIsSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      const orderId = insertedOrder.id;\r\n\r\n      // 2) créer la ligne de commande\r\n      const { error: itemError } = await supabase.from(\"order_items\").insert({\r\n        order_id: orderId,\r\n        product_id: product.id,\r\n        quantity: qty,\r\n        unit_price: product.price,\r\n        subtotal: total,\r\n      });\r\n\r\n      console.log(\"order_items insert error:\", itemError);\r\n\r\n      if (itemError) {\r\n        setErrorMsg(\r\n          \"Commande créée mais erreur sur les articles : \" +\r\n            (itemError.message || \"\")\r\n        );\r\n        setIsSubmitting(false);\r\n        return;\r\n      }\r\n\r\n      // 3) (optionnel) décrémenter le stock\r\n      const newStock = product.quantity - qty;\r\n      if (newStock >= 0) {\r\n        const { error: stockError } = await supabase\r\n          .from(\"products\")\r\n          .update({ quantity: newStock })\r\n          .eq(\"id\", product.id);\r\n\r\n        if (stockError) {\r\n          console.error(\"Stock update error:\", stockError);\r\n        }\r\n      }\r\n\r\n      setSuccessMsg(\r\n        \"Merci ! Votre commande a été bien enregistrée. Nous vous contacterons pour la livraison.\"\r\n      );\r\n\r\n      // Tracker Purchase\r\n      if (pixelId && product) {\r\n        track(\"Purchase\", {\r\n          content_name: product.name,\r\n          content_ids: [product.id],\r\n          content_type: \"product\",\r\n          value: total,\r\n          currency: \"TND\",\r\n          num_items: qty,\r\n        });\r\n      }\r\n\r\n      setCustomerName(\"\");\r\n      setCustomerPhone(\"\");\r\n      setCustomerCity(\"\");\r\n      setCustomerAddress(\"\");\r\n      setCustomerNotes(\"\");\r\n      setQuantity(1);\r\n    } catch (err: any) {\r\n      console.error(\"Checkout submit error:\", err);\r\n      setErrorMsg(\r\n        \"Erreur inattendue lors de la commande : \" +\r\n          (err?.message || \"voir console\")\r\n      );\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  if (!product) {\r\n    return (\r\n      <div className=\"max-w-3xl mx-auto p-6\">\r\n        {errorMsg ? (\r\n          <p className=\"text-red-500 text-center\">{errorMsg}</p>\r\n        ) : (\r\n          <p className=\"text-center\">Chargement...</p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const total = quantity * product.price;\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto p-6 space-y-6\">\r\n      <Button variant=\"outline\" onClick={() => router.back()}>\r\n        ← Retour au produit\r\n      </Button>\r\n\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n        {/* Récap produit */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Votre commande</CardTitle>\r\n          </CardHeader>\r\n          <CardContent className=\"space-y-4\">\r\n            <div className=\"flex gap-4\">\r\n              <div className=\"relative h-24 w-24 rounded-md overflow-hidden border\">\r\n                {product.image_url ? (\r\n                  <Image\r\n                    src={product.image_url}\r\n                    alt={product.name}\r\n                    fill\r\n                    className=\"object-cover\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"flex items-center justify-center h-full text-xs text-gray-400\">\r\n                    Aucune image\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"flex-1\">\r\n                <p className=\"font-semibold\">{product.name}</p>\r\n                <p className=\"text-sm text-gray-500 whitespace-pre-line\">\r\n                  {product.description?.slice(0, 120)}...\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span>Prix unitaire</span>\r\n                <span className=\"font-semibold\">{product.price} TND</span>\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between text-sm\">\r\n                <span>Quantité</span>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    size=\"icon\"\r\n                    onClick={() => setQuantity((q) => Math.max(1, q - 1))}\r\n                  >\r\n                    −\r\n                  </Button>\r\n                  <span>{quantity}</span>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"outline\"\r\n                    size=\"icon\"\r\n                    onClick={() =>\r\n                      setQuantity((q) =>\r\n                        product.quantity\r\n                          ? Math.min(product.quantity, q + 1)\r\n                          : q + 1\r\n                      )\r\n                    }\r\n                  >\r\n                    +\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex justify-between text-base border-t pt-2\">\r\n                <span>Total</span>\r\n                <span className=\"font-bold text-red-600\">\r\n                  {total.toFixed(2)} TND\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Formulaire COD */}\r\n        <Card>\r\n          <CardHeader>\r\n            <CardTitle>Informations de livraison</CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <form onSubmit={handleSubmit} className=\"space-y-3\">\r\n              <div>\r\n                <Label>Nom complet *</Label>\r\n                <Input\r\n                  value={customerName}\r\n                  onChange={(e) => setCustomerName(e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label>Téléphone *</Label>\r\n                <Input\r\n                  value={customerPhone}\r\n                  onChange={(e) => setCustomerPhone(e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label>Ville</Label>\r\n                <Input\r\n                  value={customerCity}\r\n                  onChange={(e) => setCustomerCity(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label>Adresse complète *</Label>\r\n                <textarea\r\n                  value={customerAddress}\r\n                  onChange={(e) => setCustomerAddress(e.target.value)}\r\n                  className=\"w-full border rounded-md p-2 min-h-[80px]\"\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label>Notes (optionnel)</Label>\r\n                <textarea\r\n                  value={customerNotes}\r\n                  onChange={(e) => setCustomerNotes(e.target.value)}\r\n                  className=\"w-full border rounded-md p-2 min-h-[60px]\"\r\n                />\r\n              </div>\r\n\r\n              {errorMsg && (\r\n                <p className=\"text-sm text-red-500 whitespace-pre-line\">\r\n                  {errorMsg}\r\n                </p>\r\n              )}\r\n\r\n              {successMsg && (\r\n                <p className=\"text-sm text-green-600 whitespace-pre-line\">\r\n                  {successMsg}\r\n                </p>\r\n              )}\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                className=\"w-full mt-2\"\r\n                disabled={isSubmitting}\r\n              >\r\n                {isSubmitting\r\n                  ? \"Envoi de la commande...\"\r\n                  : \"Confirmer la commande\"}\r\n              </Button>\r\n            </form>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AATA;;;;;;;;;;AAsBe,SAAS;;IACtB,MAAM,SAAS,IAAA,+SAAS;IACxB,MAAM,SAAS,IAAA,+SAAS;IACxB,MAAM,WAAW,OAAO,IAAI;IAC5B,MAAM,YAAY,OAAO,SAAS;IAElC,MAAM,WAAW,IAAA,0KAAY;IAE7B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,sUAAQ,EAAiB;IACvD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,sUAAQ,EAAgB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,sUAAQ,EAAgB;IAEtD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,sUAAQ,EAAC;IACjD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,sUAAQ,EAAC;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,sUAAQ,EAAC;IACjD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,sUAAQ,EAAC;IACvD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,sUAAQ,EAAC;IACnD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,sUAAQ,EAAC;IAEzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,sUAAQ,EAAC;IACjD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,sUAAQ,EAAgB;IACxD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,sUAAQ,EAAgB;IAE5D,IAAA,uUAAS;kCAAC;YACR,IAAI,CAAC,YAAY,CAAC,WAAW;YAE7B,MAAM;+CAAO;oBACX,IAAI;wBACF,cAAc;wBACd,MAAM,EAAE,MAAM,IAAI,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAC5C,IAAI,CAAC,SACL,MAAM,CAAC,yBACP,EAAE,CAAC,QAAQ,UACX,MAAM;wBAET,IAAI,aAAa,CAAC,MAAM;4BACtB,QAAQ,KAAK,CAAC,eAAe;4BAC7B,YAAY;4BACZ;wBACF;wBACA,UAAU,KAAK,EAAE;wBACjB,WAAW,KAAK,iBAAiB,IAAI;wBAErC,qCAAqC;wBACrC,IAAI,KAAK,iBAAiB,EAAE;4BAC1B,UAAU,KAAK,iBAAiB;wBAClC;wBAEA,aAAa;wBACb,MAAM,EAAE,MAAM,IAAI,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAC5C,IAAI,CAAC,YACL,MAAM,CACL,uEAED,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,MAAM,WACT,MAAM;wBAET,IAAI,aAAa,CAAC,MAAM;4BACtB,QAAQ,KAAK,CAAC,kBAAkB;4BAChC,YAAY;4BACZ;wBACF;wBAEA,WAAW;oBACb,EAAE,OAAO,KAAK;wBACZ,QAAQ,KAAK,CAAC,wBAAwB;wBACtC,YAAY;oBACd;gBACF;;YAEA;QACF;iCAAG;QAAC;QAAU;QAAW;KAAS;IAElC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,YAAY;QACZ,cAAc;QAEd,IAAI,CAAC,WAAW,CAAC,QAAQ;YACvB,YAAY;YACZ;QACF;QAEA,IAAI,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,iBAAiB;YACvD,YAAY;YACZ;QACF;QAEA,MAAM,MAAM,KAAK,GAAG,CAAC,GAAG;QACxB,MAAM,QAAQ,MAAM,QAAQ,KAAK;QAEjC,gBAAgB;QAEhB,IAAI;YACF,uBAAuB;YACvB,MAAM,EAAE,MAAM,aAAa,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,SACtD,IAAI,CAAC,UACL,MAAM,CAAC;gBACN,SAAS;gBACT,eAAe;gBACf,gBAAgB;gBAChB,eAAe,gBAAgB;gBAC/B,kBAAkB;gBAClB,gBAAgB,iBAAiB;gBACjC,QAAQ;gBACR,cAAc;YAChB,GACC,MAAM,CAAC,MACP,MAAM;YAET,QAAQ,GAAG,CAAC,wBAAwB,eAAe;YAEnD,IAAI,cAAc,CAAC,eAAe;gBAChC,QAAQ,KAAK,CAAC,uBAAuB;gBACrC,YACE,iDACE,CAAC,YAAY,WAAW,cAAc;gBAE1C,gBAAgB;gBAChB;YACF;YAEA,MAAM,UAAU,cAAc,EAAE;YAEhC,gCAAgC;YAChC,MAAM,EAAE,OAAO,SAAS,EAAE,GAAG,MAAM,SAAS,IAAI,CAAC,eAAe,MAAM,CAAC;gBACrE,UAAU;gBACV,YAAY,QAAQ,EAAE;gBACtB,UAAU;gBACV,YAAY,QAAQ,KAAK;gBACzB,UAAU;YACZ;YAEA,QAAQ,GAAG,CAAC,6BAA6B;YAEzC,IAAI,WAAW;gBACb,YACE,mDACE,CAAC,UAAU,OAAO,IAAI,EAAE;gBAE5B,gBAAgB;gBAChB;YACF;YAEA,sCAAsC;YACtC,MAAM,WAAW,QAAQ,QAAQ,GAAG;YACpC,IAAI,YAAY,GAAG;gBACjB,MAAM,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,SACjC,IAAI,CAAC,YACL,MAAM,CAAC;oBAAE,UAAU;gBAAS,GAC5B,EAAE,CAAC,MAAM,QAAQ,EAAE;gBAEtB,IAAI,YAAY;oBACd,QAAQ,KAAK,CAAC,uBAAuB;gBACvC;YACF;YAEA,cACE;YAGF,mBAAmB;YACnB,IAAI,WAAW,SAAS;gBACtB,MAAM,YAAY;oBAChB,cAAc,QAAQ,IAAI;oBAC1B,aAAa;wBAAC,QAAQ,EAAE;qBAAC;oBACzB,cAAc;oBACd,OAAO;oBACP,UAAU;oBACV,WAAW;gBACb;YACF;YAEA,gBAAgB;YAChB,iBAAiB;YACjB,gBAAgB;YAChB,mBAAmB;YACnB,iBAAiB;YACjB,YAAY;QACd,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,0BAA0B;YACxC,YACE,6CACE,CAAC,KAAK,WAAW,cAAc;QAErC,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,IAAI,CAAC,SAAS;QACZ,qBACE,0VAAC;YAAI,WAAU;sBACZ,yBACC,0VAAC;gBAAE,WAAU;0BAA4B;;;;;qCAEzC,0VAAC;gBAAE,WAAU;0BAAc;;;;;;;;;;;IAInC;IAEA,MAAM,QAAQ,WAAW,QAAQ,KAAK;IAEtC,qBACE,0VAAC;QAAI,WAAU;;0BACb,0VAAC,sKAAM;gBAAC,SAAQ;gBAAU,SAAS,IAAM,OAAO,IAAI;0BAAI;;;;;;0BAIxD,0VAAC;gBAAI,WAAU;;kCAEb,0VAAC,kKAAI;;0CACH,0VAAC,wKAAU;0CACT,cAAA,0VAAC,uKAAS;8CAAC;;;;;;;;;;;0CAEb,0VAAC,yKAAW;gCAAC,WAAU;;kDACrB,0VAAC;wCAAI,WAAU;;0DACb,0VAAC;gDAAI,WAAU;0DACZ,QAAQ,SAAS,iBAChB,0VAAC,wSAAK;oDACJ,KAAK,QAAQ,SAAS;oDACtB,KAAK,QAAQ,IAAI;oDACjB,IAAI;oDACJ,WAAU;;;;;yEAGZ,0VAAC;oDAAI,WAAU;8DAAgE;;;;;;;;;;;0DAMnF,0VAAC;gDAAI,WAAU;;kEACb,0VAAC;wDAAE,WAAU;kEAAiB,QAAQ,IAAI;;;;;;kEAC1C,0VAAC;wDAAE,WAAU;;4DACV,QAAQ,WAAW,EAAE,MAAM,GAAG;4DAAK;;;;;;;;;;;;;;;;;;;kDAK1C,0VAAC;wCAAI,WAAU;;0DACb,0VAAC;gDAAI,WAAU;;kEACb,0VAAC;kEAAK;;;;;;kEACN,0VAAC;wDAAK,WAAU;;4DAAiB,QAAQ,KAAK;4DAAC;;;;;;;;;;;;;0DAGjD,0VAAC;gDAAI,WAAU;;kEACb,0VAAC;kEAAK;;;;;;kEACN,0VAAC;wDAAI,WAAU;;0EACb,0VAAC,sKAAM;gEACL,MAAK;gEACL,SAAQ;gEACR,MAAK;gEACL,SAAS,IAAM,YAAY,CAAC,IAAM,KAAK,GAAG,CAAC,GAAG,IAAI;0EACnD;;;;;;0EAGD,0VAAC;0EAAM;;;;;;0EACP,0VAAC,sKAAM;gEACL,MAAK;gEACL,SAAQ;gEACR,MAAK;gEACL,SAAS,IACP,YAAY,CAAC,IACX,QAAQ,QAAQ,GACZ,KAAK,GAAG,CAAC,QAAQ,QAAQ,EAAE,IAAI,KAC/B,IAAI;0EAGb;;;;;;;;;;;;;;;;;;0DAML,0VAAC;gDAAI,WAAU;;kEACb,0VAAC;kEAAK;;;;;;kEACN,0VAAC;wDAAK,WAAU;;4DACb,MAAM,OAAO,CAAC;4DAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQ5B,0VAAC,kKAAI;;0CACH,0VAAC,wKAAU;0CACT,cAAA,0VAAC,uKAAS;8CAAC;;;;;;;;;;;0CAEb,0VAAC,yKAAW;0CACV,cAAA,0VAAC;oCAAK,UAAU;oCAAc,WAAU;;sDACtC,0VAAC;;8DACC,0VAAC,oKAAK;8DAAC;;;;;;8DACP,0VAAC,oKAAK;oDACJ,OAAO;oDACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;oDAC/C,QAAQ;;;;;;;;;;;;sDAIZ,0VAAC;;8DACC,0VAAC,oKAAK;8DAAC;;;;;;8DACP,0VAAC,oKAAK;oDACJ,OAAO;oDACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;oDAChD,QAAQ;;;;;;;;;;;;sDAIZ,0VAAC;;8DACC,0VAAC,oKAAK;8DAAC;;;;;;8DACP,0VAAC,oKAAK;oDACJ,OAAO;oDACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;sDAInD,0VAAC;;8DACC,0VAAC,oKAAK;8DAAC;;;;;;8DACP,0VAAC;oDACC,OAAO;oDACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;oDAClD,WAAU;oDACV,QAAQ;;;;;;;;;;;;sDAIZ,0VAAC;;8DACC,0VAAC,oKAAK;8DAAC;;;;;;8DACP,0VAAC;oDACC,OAAO;oDACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,MAAM,CAAC,KAAK;oDAChD,WAAU;;;;;;;;;;;;wCAIb,0BACC,0VAAC;4CAAE,WAAU;sDACV;;;;;;wCAIJ,4BACC,0VAAC;4CAAE,WAAU;sDACV;;;;;;sDAIL,0VAAC,sKAAM;4CACL,MAAK;4CACL,WAAU;4CACV,UAAU;sDAET,eACG,4BACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQpB;GA9WwB;;QACP,+SAAS;QACT,+SAAS;;;KAFF"}}]
}