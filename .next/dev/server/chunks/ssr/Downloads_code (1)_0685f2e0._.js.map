{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from \"@supabase/ssr\";\n\nexport function createClient() {\n  return createBrowserClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,SAAS;IACd,OAAO,IAAA,4UAAmB;AAI5B"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,kQAAO,EAAC,IAAA,4NAAI,EAAC;AACtB"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,gRAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,0UAAI,GAAG;IAE9B,qBACE,2YAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,2YAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,2YAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,2YAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,2YAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,2YAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,2YAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,2YAAC;QACC,aAAU;QACV,WAAW,IAAA,gJAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,2YAAC,oTAAmB;QAClB,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,2YAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,gJAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/app/shop/%5Bslug%5D/product/%5BproductId%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\ninterface Category {\r\n  id: string;\r\n  name: string;\r\n}\r\n\r\nexport default function NewProductPage() {\r\n  const router = useRouter();\r\n  const supabase = createClient();\r\n\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    compareAtPrice: \"\",\r\n    sku: \"\",\r\n    quantity: \"\",\r\n    categoryId: \"\",\r\n    status: \"published\",\r\n  });\r\n\r\n  // üì∑ plusieurs images\r\n  const [imageFiles, setImageFiles] = useState<File[]>([]);\r\n  const [imagePreviews, setImagePreviews] = useState<string[]>([]);\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const loadCategories = async () => {\r\n    try {\r\n      const {\r\n        data: { user },\r\n      } = await supabase.auth.getUser();\r\n      if (!user) return;\r\n\r\n      const { data: shop, error: shopError } = await supabase\r\n        .from(\"shops\")\r\n        .select(\"id\")\r\n        .eq(\"user_id\", user.id)\r\n        .single();\r\n\r\n      if (shopError || !shop) {\r\n        console.error(\"Shop error:\", shopError);\r\n        return;\r\n      }\r\n\r\n      const { data, error } = await supabase\r\n        .from(\"categories\")\r\n        .select(\"id, name\")\r\n        .eq(\"shop_id\", shop.id)\r\n        .order(\"name\", { ascending: true });\r\n\r\n      if (error) {\r\n        console.error(\"Categories error:\", error);\r\n        return;\r\n      }\r\n\r\n      setCategories(data || []);\r\n    } catch (err) {\r\n      console.error(\"Unexpected categories error:\", err);\r\n    }\r\n  };\r\n\r\n  const handleChange = (\r\n    e:\r\n      | React.ChangeEvent<HTMLInputElement>\r\n      | React.ChangeEvent<HTMLTextAreaElement>\r\n      | React.ChangeEvent<HTMLSelectElement>\r\n  ) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  // üì∑ s√©lection multiple d'images\r\n  const handleImagesChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = e.target.files;\r\n    if (!files || files.length === 0) {\r\n      setImageFiles([]);\r\n      setImagePreviews([]);\r\n      return;\r\n    }\r\n\r\n    const arr = Array.from(files);\r\n    setImageFiles(arr);\r\n    setImagePreviews(arr.map((f) => URL.createObjectURL(f)));\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      const {\r\n        data: { user },\r\n      } = await supabase.auth.getUser();\r\n\r\n      if (!user) {\r\n        alert(\"Utilisateur non connect√©\");\r\n        return;\r\n      }\r\n\r\n      const { data: shop, error: shopError } = await supabase\r\n        .from(\"shops\")\r\n        .select(\"id\")\r\n        .eq(\"user_id\", user.id)\r\n        .single();\r\n\r\n      if (shopError || !shop) {\r\n        console.error(\"Shop error:\", shopError);\r\n        alert(\"Boutique introuvable pour cet utilisateur\");\r\n        return;\r\n      }\r\n\r\n      // ==================================================\r\n      // 1) Cr√©er le produit (sans images pour l'instant)\r\n      // ==================================================\r\n      const { data: inserted, error: insertError } = await supabase\r\n        .from(\"products\")\r\n        .insert({\r\n          shop_id: shop.id,\r\n          name: formData.name,\r\n          description: formData.description,\r\n          price: formData.price ? parseFloat(formData.price) : 0,\r\n          compare_at_price: formData.compareAtPrice\r\n            ? parseFloat(formData.compareAtPrice)\r\n            : null,\r\n          sku: formData.sku || null,\r\n          quantity: formData.quantity\r\n            ? parseInt(formData.quantity, 10)\r\n            : 0,\r\n          category_id: formData.categoryId || null,\r\n          status: formData.status,\r\n        })\r\n        .select(\"id\")\r\n        .single();\r\n\r\n      if (insertError || !inserted) {\r\n        console.error(\"Insert product error:\", insertError);\r\n        alert(\"Erreur lors de la cr√©ation du produit : \" + insertError?.message);\r\n        return;\r\n      }\r\n\r\n      const productId = inserted.id as string;\r\n\r\n      // ==================================================\r\n      // 2) Uploader les images (si il y en a)\r\n      // ==================================================\r\n      let mainImageUrl: string | null = null;\r\n\r\n      if (imageFiles.length > 0) {\r\n        const imageRows: { product_id: string; image_url: string; sort_order: number }[] = [];\r\n\r\n        for (let index = 0; index < imageFiles.length; index++) {\r\n          const file = imageFiles[index];\r\n          const ext = file.name.split(\".\").pop();\r\n          const baseName =\r\n            typeof crypto !== \"undefined\" && \"randomUUID\" in crypto\r\n              ? (crypto as any).randomUUID()\r\n              : Date.now().toString();\r\n\r\n          const fileName = `${baseName}.${ext}`;\r\n          const filePath = `${shop.id}/${productId}/${fileName}`;\r\n\r\n          const { data: uploadData, error: uploadError } = await supabase\r\n            .storage\r\n            .from(\"product-images\") // ‚ö†Ô∏è m√™me bucket qu'avant\r\n            .upload(filePath, file, {\r\n              cacheControl: \"3600\",\r\n              upsert: true,\r\n            });\r\n\r\n          if (uploadError) {\r\n            console.error(\"Upload image error:\", uploadError);\r\n            alert(\"Erreur upload image : \" + uploadError.message);\r\n            // on ne return pas forc√©ment, on peut continuer avec celles qui marchent\r\n            continue;\r\n          }\r\n\r\n          const { data: publicData } = supabase\r\n            .storage\r\n            .from(\"product-images\")\r\n            .getPublicUrl(uploadData?.path || filePath);\r\n\r\n          const url = publicData.publicUrl;\r\n          if (!mainImageUrl && url) {\r\n            mainImageUrl = url;\r\n          }\r\n\r\n          imageRows.push({\r\n            product_id: productId,\r\n            image_url: url,\r\n            sort_order: index,\r\n          });\r\n        }\r\n\r\n        // Ins√©rer les lignes dans product_images\r\n        if (imageRows.length > 0) {\r\n          const { error: imgInsertError } = await supabase\r\n            .from(\"product_images\")\r\n            .insert(imageRows);\r\n\r\n          if (imgInsertError) {\r\n            console.error(\"Insert product_images error:\", imgInsertError);\r\n          }\r\n        }\r\n      }\r\n\r\n      // ==================================================\r\n      // 3) Mettre √† jour l'image principale du produit\r\n      // ==================================================\r\n      if (mainImageUrl) {\r\n        const { error: updateError } = await supabase\r\n          .from(\"products\")\r\n          .update({ image_url: mainImageUrl })\r\n          .eq(\"id\", productId);\r\n\r\n        if (updateError) {\r\n          console.error(\"Update main image error:\", updateError);\r\n        }\r\n      }\r\n\r\n      router.push(\"/dashboard/products\");\r\n    } catch (err: any) {\r\n      console.error(\"Error creating product:\", err);\r\n      alert(\r\n        \"Erreur inattendue lors de la cr√©ation du produit : \" +\r\n          (err?.message || \"voir console\")\r\n      );\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Ajouter un produit</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"name\">Nom du produit</Label>\r\n                <Input\r\n                  id=\"name\"\r\n                  name=\"name\"\r\n                  value={formData.name}\r\n                  onChange={handleChange}\r\n                  required\r\n                  disabled={isLoading}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"price\">Prix</Label>\r\n                <Input\r\n                  id=\"price\"\r\n                  name=\"price\"\r\n                  type=\"number\"\r\n                  step=\"0.01\"\r\n                  value={formData.price}\r\n                  onChange={handleChange}\r\n                  required\r\n                  disabled={isLoading}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"compareAtPrice\">Prix barr√© (optionnel)</Label>\r\n                <Input\r\n                  id=\"compareAtPrice\"\r\n                  name=\"compareAtPrice\"\r\n                  type=\"number\"\r\n                  step=\"0.01\"\r\n                  value={formData.compareAtPrice}\r\n                  onChange={handleChange}\r\n                  disabled={isLoading}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"quantity\">Stock</Label>\r\n                <Input\r\n                  id=\"quantity\"\r\n                  name=\"quantity\"\r\n                  type=\"number\"\r\n                  value={formData.quantity}\r\n                  onChange={handleChange}\r\n                  disabled={isLoading}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"sku\">SKU</Label>\r\n                <Input\r\n                  id=\"sku\"\r\n                  name=\"sku\"\r\n                  value={formData.sku}\r\n                  onChange={handleChange}\r\n                  disabled={isLoading}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"categoryId\">Cat√©gorie</Label>\r\n                <select\r\n                  id=\"categoryId\"\r\n                  name=\"categoryId\"\r\n                  className=\"border rounded-md px-3 py-2 w-full\"\r\n                  value={formData.categoryId}\r\n                  onChange={handleChange}\r\n                  disabled={isLoading}\r\n                >\r\n                  <option value=\"\">Sans cat√©gorie</option>\r\n                  {categories.map((cat) => (\r\n                    <option key={cat.id} value={cat.id}>\r\n                      {cat.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {/* üì∑ Upload multiple */}\r\n              <div className=\"space-y-2 md:col-span-2\">\r\n                <Label htmlFor=\"images\">Images du produit</Label>\r\n                <Input\r\n                  id=\"images\"\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                  multiple\r\n                  onChange={handleImagesChange}\r\n                  disabled={isLoading}\r\n                />\r\n                {imagePreviews.length > 0 && (\r\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\r\n                    {imagePreviews.map((src, i) => (\r\n                      <img\r\n                        key={i}\r\n                        src={src}\r\n                        alt={`Preview ${i + 1}`}\r\n                        className=\"h-20 w-20 object-cover rounded-md border\"\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <textarea\r\n                id=\"description\"\r\n                name=\"description\"\r\n                className=\"border rounded-md px-3 py-2 w-full min-h-[120px]\"\r\n                value={formData.description}\r\n                onChange={handleChange}\r\n                disabled={isLoading}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"status\">Statut</Label>\r\n              <select\r\n                id=\"status\"\r\n                name=\"status\"\r\n                className=\"border rounded-md px-3 py-2 w-full\"\r\n                value={formData.status}\r\n                onChange={handleChange}\r\n                disabled={isLoading}\r\n              >\r\n                <option value=\"published\">Publi√©</option>\r\n                <option value=\"draft\">Brouillon</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3\">\r\n              <Button\r\n                type=\"button\"\r\n                variant=\"outline\"\r\n                onClick={() => router.back()}\r\n                disabled={isLoading}\r\n              >\r\n                Annuler\r\n              </Button>\r\n              <Button type=\"submit\" disabled={isLoading}>\r\n                {isLoading ? \"Enregistrement...\" : \"Cr√©er le produit\"}\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}