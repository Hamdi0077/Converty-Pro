{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\";\nimport { cookies } from \"next/headers\";\n\nexport async function createClient() {\n  const cookieStore = await cookies();\n\n  return createServerClient(\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\n    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\n    {\n      cookies: {\n        getAll() {\n          return cookieStore.getAll();\n        },\n        setAll(cookiesToSet) {\n          try {\n            cookiesToSet.forEach(({ name, value, options }) =>\n              cookieStore.set(name, value, options),\n            );\n          } catch {\n            // Ignore errors in Server Components\n          }\n        },\n      },\n    },\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,uSAAO;IAEjC,OAAO,IAAA,0UAAkB,sUAGvB;QACE,SAAS;YACP;gBACE,OAAO,YAAY,MAAM;YAC3B;YACA,QAAO,YAAY;gBACjB,IAAI;oBACF,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC5C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAEjC,EAAE,OAAM;gBACN,qCAAqC;gBACvC;YACF;QACF;IACF;AAEJ"}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/p-c/Downloads/code%20%281%29/app/shop/%5Bslug%5D/product/%5BproductId%5D/page.tsx"],"sourcesContent":["import { createClient } from \"@/lib/supabase/server\";\r\nimport Image from \"next/image\";\r\n\r\ninterface ProductPageProps {\r\n  params: {\r\n    slug: string;\r\n    productId: string;\r\n  };\r\n}\r\n\r\nexport default async function ProductPage({ params }: ProductPageProps) {\r\n  const supabase = createClient();\r\n\r\n  const { slug, productId } = params;\r\n\r\n  // 1) Trouver la boutique via le slug\r\n  const { data: shop } = await supabase\r\n    .from(\"shops\")\r\n    .select(\"id\")\r\n    .eq(\"slug\", slug)\r\n    .single();\r\n\r\n  if (!shop) {\r\n    return <div className=\"p-4\">Boutique introuvable</div>;\r\n  }\r\n\r\n  // 2) Charger le produit\r\n  const { data: product } = await supabase\r\n    .from(\"products\")\r\n    .select(\"*\")\r\n    .eq(\"shop_id\", shop.id)\r\n    .eq(\"id\", productId)\r\n    .single();\r\n\r\n  if (!product) {\r\n    return <div className=\"p-4\">Produit introuvable</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-5xl mx-auto p-6\">\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-10\">\r\n\r\n        {/* Image */}\r\n        <div className=\"relative w-full h-[420px] rounded-lg overflow-hidden border bg-white\">\r\n          {product.image_url ? (\r\n            <Image\r\n              src={product.image_url}\r\n              alt={product.name}\r\n              fill\r\n              className=\"object-cover\"\r\n              priority\r\n            />\r\n          ) : (\r\n            <div className=\"flex items-center justify-center h-full text-gray-400\">\r\n              Aucune image\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Infos produit */}\r\n        <div className=\"flex flex-col gap-4\">\r\n          <h1 className=\"text-2xl font-bold\">{product.name}</h1>\r\n\r\n          {/* Prix */}\r\n          <div className=\"flex items-center gap-3\">\r\n            <span className=\"text-3xl font-bold text-red-600\">\r\n              {product.price} TND\r\n            </span>\r\n            {product.compare_at_price && (\r\n              <span className=\"text-lg line-through text-gray-400\">\r\n                {product.compare_at_price} TND\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          {/* Description */}\r\n          <p className=\"text-gray-600 whitespace-pre-line\">\r\n            {product.description}\r\n          </p>\r\n\r\n          {/* Stock */}\r\n          <p className=\"text-sm text-gray-500\">\r\n            Stock disponible : {product.quantity}\r\n          </p>\r\n\r\n          {/* Bouton commander */}\r\n          <a\r\n            href={`/shop/${slug}/product/${product.id}/checkout`}\r\n            className=\"block w-full bg-red-600 hover:bg-red-700 text-white text-center py-3 rounded-lg text-lg font-semibold\"\r\n          >\r\n            Commander maintenant\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AASe,eAAe,YAAY,EAAE,MAAM,EAAoB;IACpE,MAAM,WAAW,IAAA,uKAAY;IAE7B,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG;IAE5B,qCAAqC;IACrC,MAAM,EAAE,MAAM,IAAI,EAAE,GAAG,MAAM,SAC1B,IAAI,CAAC,SACL,MAAM,CAAC,MACP,EAAE,CAAC,QAAQ,MACX,MAAM;IAET,IAAI,CAAC,MAAM;QACT,qBAAO,2YAAC;YAAI,WAAU;sBAAM;;;;;;IAC9B;IAEA,wBAAwB;IACxB,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,MAAM,SAC7B,IAAI,CAAC,YACL,MAAM,CAAC,KACP,EAAE,CAAC,WAAW,KAAK,EAAE,EACrB,EAAE,CAAC,MAAM,WACT,MAAM;IAET,IAAI,CAAC,SAAS;QACZ,qBAAO,2YAAC;YAAI,WAAU;sBAAM;;;;;;IAC9B;IAEA,qBACE,2YAAC;QAAI,WAAU;kBACb,cAAA,2YAAC;YAAI,WAAU;;8BAGb,2YAAC;oBAAI,WAAU;8BACZ,QAAQ,SAAS,iBAChB,2YAAC,qSAAK;wBACJ,KAAK,QAAQ,SAAS;wBACtB,KAAK,QAAQ,IAAI;wBACjB,IAAI;wBACJ,WAAU;wBACV,QAAQ;;;;;6CAGV,2YAAC;wBAAI,WAAU;kCAAwD;;;;;;;;;;;8BAO3E,2YAAC;oBAAI,WAAU;;sCACb,2YAAC;4BAAG,WAAU;sCAAsB,QAAQ,IAAI;;;;;;sCAGhD,2YAAC;4BAAI,WAAU;;8CACb,2YAAC;oCAAK,WAAU;;wCACb,QAAQ,KAAK;wCAAC;;;;;;;gCAEhB,QAAQ,gBAAgB,kBACvB,2YAAC;oCAAK,WAAU;;wCACb,QAAQ,gBAAgB;wCAAC;;;;;;;;;;;;;sCAMhC,2YAAC;4BAAE,WAAU;sCACV,QAAQ,WAAW;;;;;;sCAItB,2YAAC;4BAAE,WAAU;;gCAAwB;gCACf,QAAQ,QAAQ;;;;;;;sCAItC,2YAAC;4BACC,MAAM,CAAC,MAAM,EAAE,KAAK,SAAS,EAAE,QAAQ,EAAE,CAAC,SAAS,CAAC;4BACpD,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX"}}]
}